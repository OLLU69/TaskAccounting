<div class="container">
  <ngb-alert (close)="alertMessage = null" *ngIf="alertMessage" type="danger">{{alertMessage}}</ngb-alert>
  <h1>{{header}}</h1>
  <div class="row">
    <div class="col-md-6">
      <form #taskForm="ngForm" (ngSubmit)="saveTask(task)">
        <div class="form-group row">
          <label class="col-2 col-form-label" for="name">Название задачи</label>
          <div class="col-10">
            <input [(ngModel)]="task.name" class="form-control" id="name" name="name" type="text">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-2 col-form-label" for="start-date">Дата начала</label>
          <div class="col-10">
            <input [(ngModel)]="task.startDate" class="form-control date" id="start-date" name="startDate" type="date">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-2 col-form-label" for="end-date">Дата окончания</label>
          <div class="col-10">
            <input [(ngModel)]="task.endDate" class="form-control" id="end-date" name="endDate" type="date">
          </div>
        </div>

        <label class="form-check-label">Участники:</label>

        <div *ngFor="let person of persons; let i = index" class="form-check">
          <input (change)="updateCheck(person, i)" [checked]="person.checked" [id]="'label' + person.id"
                 class="form-check-input" type="checkbox">
          <label [for]="'label' + person.id" class="form-check-label">
            {{person.name}}
          </label>
        </div>

        <div class="form-group">
          <button (click)="back()" class="btn btn-outline-dark" type="button">Отмена</button>
          <button [disabled]="!taskForm.form.valid" class="btn btn-primary" type="submit">Сохранить</button>
        </div>
      </form>
    </div>
  </div>
</div>
